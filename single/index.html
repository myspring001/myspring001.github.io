<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><meta name="theme-color" content="#2d4356"><meta name="baidu-site-verification"><title>MySQL数据库单表千万级别如何优化？ | 技术分享</title><link rel="stylesheet" type="text/css" href="../css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="../favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script><meta name="generator" content="Hexo 5.4.0"></head><script type="text/javascript" src="../js/ready.js" async></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">LITREILY</a></div><div class="navbar-search"></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">技术分享</a></h1></div><p class="m-desc">好向枝头采春色,<br>不知春色在篮中！</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="../archives/">归档</a></li><li><span class="dot">●</span><a href="../categories/">分类</a></li><li><span class="dot">●</span><a href="../tags/">标签</a></li><li><span class="dot">●</span><a href="../about/">关于</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="搜索" onfocus='"搜索"==this.value&&(this.value="")' onblur='""==this.value&&(this.value="搜索")'><input type="text" style="display:none"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">MySQL数据库单表千万级别如何优化？</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="">2023-02-22</a></span></div></div><div class="p-content"><p>一个公司刚开始的时候业务量不大，一般不会一开始就选择分库分表。当单表数据量达到千万级别的时候，就该考虑了。</p><p>这里说一下之前公司遇到过的，单表千万级数据量</p><p>数据库是单实例的，这个系统的性能瓶颈主要在数据库，单表的数据量已经达到千万级别，理论上已经是MySQL数据库的极限了。</p><p><img src="/../single/mysql.jpg"></p><p>这张图是之前统计各年份线上的订单数，后面其实已经达到3千万了。</p><p>订单表是单表，如果遇到复杂业务需要多表联查那就肯定很慢了。单实例MySQL的数据文件都已经达到几十个G。</p><p>对于这样的情况，该如何进行优化呢？</p><ul><li><p>主从复制，读写分离，分库分表</p><blockquote><p>这个时候只是单纯的给数据库字段加索引，优化SQL语句等这些已经不能起到显著效果了，需要从架构方面入手。</p></blockquote></li><li><p>考虑服务器CPU，内存,网络，磁盘IO等硬件配置</p><blockquote><p>这种方式是最快见效的方式，但是不是长久之计，如果业务量继续增加，单表后面还是会撑不住，只能是临时解决问题。所以还是要解决单表数据量大的问题。</p></blockquote></li></ul></div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">本文作者：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">Mr Xue</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">本文链接：</span><span class="p-copytight-value"><a href="">http://xbget.cn/single/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">版权声明：</span><span class="p-copytight-value">本博客所有文章除特殊声明外，转载请注明出处 <a href="http://xbget.cn">Mr Xue的博客</a>！</span></div></blockquote></div></article><div class="p-info box"><span class="p-tags"><i class="fa fa-tags"></i><a href="../tags/%E5%90%8E%E7%AB%AF/">后端</a><a href="../tags/MySQL/">MySQL</a></span></div><aside id="toc"><div class="toc-title">目录</div><nav></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="next" href="../sublinetext/">sublinetext禁止更新检查 &gt;</a></div></section><footer><p>Copyright © 2016 - 2023 <a href="../." rel="nofollow">技术分享</a> | <strong><cc></cc></strong><br>Powered by Mr xue.</p></footer></div></div></div><script type="text/javascript" src="../js/search.js"></script><script type="text/javascript" src="../js/top.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script type="text/javascript" src="../js/fancybox.js?v=0.0.1" async></script></body></html>